<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<h:title>Manter Categoria</h:title>
</h:head>
<h:body>

	<div align="right">
		<h:form style="font-size:90% !important">
			<p:commandLink id="logoutID" action="#{loginMB.fazLogout}"
				ajax="false">
				<h:outputText value="Logout" />
			</p:commandLink>
		</h:form>
	</div>

	<p:separator />

	<h:form id="formCategoria">
		<div align="left">

			<h:inputHidden type="hidden"
				value="#{manterCategoriaMB.categoria.idCategoria}" />

			<p:panelGrid columns="2">

				<h:outputLabel for="nomeCategoria" value="Nome da Categoria:" />
				<p:inputText id="nomeCategoria"
					value="#{manterCategoriaMB.categoria.nomeCategoria}" size="45" />

				<h:outputLabel for="diasPVencer" value="Dias para vencer:" />
				<p:inputMask id="diasPVencer"
					value="#{manterCategoriaMB.categoria.numeroDeDiasParaVencimento}"
					mask="9?9999" size="45" />

			</p:panelGrid>

			<p:panelGrid columns="1" align="left">
				<p:row style="grid">
					<div style="font-size: 90% !important" align="left">
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						<p:commandButton value="Nova" ajax="false"
							action="#{manterCategoriaMB.criarCategoria}" />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						<p:commandButton value="Excluir" ajax="false"
							action="#{manterCategoriaMB.removerCategoria}" />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						<p:commandButton value="Atualizar" ajax="false"
							action="#{manterCategoriaMB.atualizarCategoria}" />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						<p:commandButton value="Limpar" ajax="false"
							action="#{manterCategoriaMB.limparTelaManterCategoria}" />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					</div>
				</p:row>
			</p:panelGrid>

			<br />
			<p:messages id="messages" autoUpdate="true" closable="true" showDetail="true"/>
			<br />

			<p:separator />

			<p:dataTable id="tabela" value="#{manterCategoriaMB.listaCategoria}"
				var="categoria" style="width:80%" styleClass="table table-hover"
				emptyMessage="Nenhum resultado">
				
				<p:column>
					<f:facet name="header">Categoria</f:facet>
					<h:outputText value="#{categoria.nomeCategoria}" />
				</p:column>

				<p:column>
					<f:facet name="header">Dias para vencer</f:facet>
					<h:outputText value="#{categoria.numeroDeDiasParaVencimento}" />
				</p:column>

				<p:column style="width=100; text-align: center">
						<h:commandButton value="Selecionar" action="#{manterCategoriaMB.selecionarCategoria(categoria)}" />
				</p:column>

			</p:dataTable>
			<br /> <br />
		</div>
		<div align="left">
			<p:separator />
			<p:commandButton value="Voltar"
				action="#{manterCategoriaMB.voltarTelaInicial}" />
		</div>
	</h:form>
</h:body>
</html>